(this.webpackJsonpdate_sidekick=this.webpackJsonpdate_sidekick||[]).push([[0],{42:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),s=(a(70),a(71),a(15)),o=a(7),d=a(8),l=a(10),h=a(9),j=(a(42),a(65)),p=a(99),u=a(100),b=a(59),O=a(101),x=a(102),y=a(106),f=a(60),g=a(1);var v=function(e){var t=Object(n.useState)("0"),a=Object(j.a)(t,2),r=a[0],c=a[1];return Object(g.jsxs)(p.a,{fluid:"md",children:[Object(g.jsx)(u.a,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)("h1",{children:"What type of date?"})})}),Object(g.jsx)(u.a,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)("h4",{children:"Select a date type and enter a zipcode "})})}),Object(g.jsx)(u.a,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)(O.a,{toggle:!0,children:[{name:"Food",value:"1",type:"food"},{name:"Food and Activity",value:"2",type:"food-activity"}].map((function(t,a){return Object(g.jsx)(x.a,{type:"radio",variant:"secondary",name:t.type,value:t.value,checked:r===t.value,onChange:function(t){c(t.currentTarget.value),e.handleClick(t)},children:t.name},a)}))})})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(u.a,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)(y.a,{onSubmit:e.handleSubmit,children:Object(g.jsx)(y.a.Group,{children:Object(g.jsx)(y.a.Row,{children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(y.a.Label,{children:"Zipcode: "}),Object(g.jsx)(y.a.Control,{type:"number",className:"zipcode-field",value:e.zipcode,onChange:e.handleChange,placeholder:"5 digit zipcode"}),Object(g.jsx)(f.a,{type:"submit",size:"lg",children:"Search!"})]})})})})})})]})},m=a(110),w=a(16),C=a(12),A=a(62),D=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.renderCategories=function(){return e.props.activity.categories.map((function(e){return Object(g.jsx)("li",{children:e.title},e.title)}))},e.showMore=function(){var t=e.state.open;e.setState({open:!t})},e.renderCard=function(){},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(m.a,{style:{width:"100%",margin:"auto",minWidth:"316px"},className:"shadow-sm p-3 mb-5 bg-body rounded ".concat(this.props.foodOnly),children:[Object(g.jsx)(m.a.Img,{variant:"top",src:this.props.activity.image_url,style:{width:"95%",height:"300px",margin:"auto",objectFit:"contain"},onClick:this.showMore}),Object(g.jsxs)(m.a.Body,{children:[Object(g.jsx)(m.a.Title,{children:Object(g.jsx)("h5",{children:this.props.activity.name})}),Object(g.jsx)(A.a,{in:this.state.open,children:Object(g.jsxs)("div",{children:[this.props.activity.price?Object(g.jsx)("h6",{children:this.props.activity.price}):"",this.props.activity.location.display_address[0]?Object(g.jsxs)(g.Fragment,{children:[this.props.activity.location.display_address[0],Object(g.jsx)("br",{}),this.props.activity.location.display_address[1]]}):"",Object(g.jsx)("br",{}),this.props.activity.display_phone?Object(g.jsx)(g.Fragment,{children:this.props.activity.display_phone}):"",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("h6",{children:Object(g.jsx)("u",{children:"Categories"})}),Object(g.jsx)("ul",{children:this.renderCategories()})]})}),"false"===this.props.random?Object(g.jsx)(f.a,{variant:"primary",value:this.props.activity,onClick:function(){return e.props.addActivityToDate(e.props.activity)},children:"Add To Date"}):"",Object(g.jsx)("a",{href:this.props.activity.url,target:"_blank",rel:"noreferrer",children:Object(g.jsx)(f.a,{variant:"secondary",children:"Check out on Yelp!"})}),this.state.open?Object(g.jsx)(f.a,{onClick:this.showMore,variant:"secondary",children:"Show Less"}):Object(g.jsx)(f.a,{onClick:this.showMore,variant:"secondary",children:"Show More"})]})]})}}]),a}(r.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleFoodDate=function(t){e.props.saveFoodDate(e.props.food,e.props.user,e.props.history)},e.handleFoodActivityDate=function(t){Array.isArray(e.props.food)||Array.isArray(e.props.activity)?alert("Make sure to add both a food and activity to date before saving."):e.props.saveFoodActivityDate(e.props.food,e.props.activity,e.props.user,e.props.history)},e.renderCurrentDate=function(){switch(e.props.type){case"food":return Array.isArray(e.props.food)?Object(g.jsx)(p.a,{children:Object(g.jsx)("h2",{children:"Select a place to eat from below"})}):Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(m.a,{children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)("h4",{children:"Current Date"})}),Object(g.jsx)(D,{activity:e.props.food,addActivityToDate:"",random:"true"}),Object(g.jsx)(m.a.Footer,{children:e.props.loggedIn?Object(g.jsx)(f.a,{onClick:function(){return e.handleFoodDate()},children:"Save date to profile"}):"Login or Signup to save"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]});case"food-activity":return Array.isArray(e.props.food)&&Array.isArray(e.props.activity)?Object(g.jsx)("h4",{children:Object(g.jsx)("u",{children:"Select a place to eat and something to do from below"})}):Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(m.a,{children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)("h4",{children:"Current Date"})}),Object(g.jsx)(p.a,{children:Object(g.jsxs)(u.a,{children:[Array.isArray(e.props.food)?"":Object(g.jsx)(D,{activity:e.props.food,addActivityToDate:"",random:"true"}),Array.isArray(e.props.activity)?"":Object(g.jsx)(D,{activity:e.props.activity,addActivityToDate:"",random:"true"})]})}),Object(g.jsx)(m.a.Footer,{children:e.props.loggedIn?Object(g.jsx)(f.a,{variant:"success",onClick:function(){return e.handleFoodActivityDate()},children:"Save date to profile"}):"Login or Signup to save"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]});default:return Object(g.jsx)("div",{children:Object(g.jsx)("h4",{children:Object(g.jsx)("u",{children:"Select a place to eat from below"})})})}},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:this.renderCurrentDate()})}}]),a}(r.a.Component),S=Object(C.g)(Object(w.b)((function(e){return{user:e.authReducer.currentUser,loggedIn:e.authReducer.loggedIn}}),(function(e){return{saveFoodDate:function(t,a,n){e(function(e,t,a){return function(n){n({type:"STARTING_FETCH"}),fetch("".concat("https://date-sidekick-api.herokuapp.com","/outings"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({food:e,user:t,type:"food"})}).then((function(e){return e.json()})).then((function(e){n({type:"NOTHING"}),a.push("/user/".concat(t.id))}))}}(t,a,n))},saveFoodActivityDate:function(t,a,n,r){e(function(e,t,a,n){return function(r){r({type:"STARTING_FETCH"}),fetch("".concat("https://date-sidekick-api.herokuapp.com","/outings"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({food:e,activity:t,user:a,type:"foodActivity"})}).then((function(e){return e.json()})).then((function(e){r({type:"NOTHING"}),n.push("/user/".concat(a.id))}))}}(t,a,n,r))}}}))(k)),T=a(103),F=a(104),N=a(108),z=a(63),I=a.n(z);var _=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})},L=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:"",activityResults:[],dateActivity:{},loading:!0},e.renderActivitySelection=function(){if(e.state.activityResults.length>0){if("true"===e.props.random){var t=e.state.activityResults[Math.floor(Math.random()*e.state.activityResults.length)];return Object(g.jsx)(D,{activity:t,addActivityToDate:e.props.addActivityToDate,random:"true"})}var a=e.state.activityResults.map((function(t){return Object(g.jsx)(D,{activity:t,addActivityToDate:e.props.addActivityToDate,random:"false"})})),n=[a.slice(0,3),a.slice(3,6),a.slice(6,9),a.slice(9,12),a.slice(12,15),a.slice(15,18),a.slice(18,21)];return Object(g.jsx)(N.a,{fade:!0,children:n.map((function(e){return Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(u.a,{children:e.map((function(e){return Object(g.jsx)(b.a,{children:e})}))})})}))})}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://date-sidekick-api.herokuapp.com","/search/").concat(this.props.zipcode,"/").concat(this.props.type)).then((function(e){return e.json()})).then((function(t){"food-activity"===e.props.type?e.setState({activityResults:t.activity.businesses,loading:!1}):e.setState({activityResults:t.businesses,loading:!1})}))}},{key:"render",value:function(){return this.state.loading?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})}):Object(g.jsxs)("div",{className:"datecard",children:["food"===this.props.type?Object(g.jsx)("h1",{children:"Food Offering"}):Object(g.jsx)("h1",{children:"Activity Offering"}),Object(g.jsx)(p.a,{children:Object(g.jsx)(u.a,{children:Object(g.jsx)(b.a,{children:this.renderActivitySelection()})})})]})}}]),a}(r.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={dateType:"",zipcode:"",renderFood:!1,renderActivity:!1,dateFood:[],dateActivity:[],showZipAlert:!1,showDateTypeAlert:!1},e.handleClick=function(t){e.setState({dateType:t.target.name,renderFood:!1,renderActivity:!1,dateFood:[],dateActivity:[]})},e.handleChange=function(t){t.target.value.length<=5&&e.setState({renderFood:!1,renderActivity:!1,zipcode:t.target.value})},e.handleSubmit=function(t){if(t.preventDefault(),e.state.dateType&&5===e.state.zipcode.length)switch(e.state.dateType){case"food":e.setState({renderFood:!0,renderActivity:!1,showZipAlert:!1,showDateTypeAlert:!1});break;case"food-activity":e.setState({renderActivity:!0,renderFood:!0,showZipAlert:!1,showDateTypeAlert:!1});break;default:e.setState({renderFood:!1,renderActivity:!1})}else 5!==e.state.zipcode.length?e.setState({showZipAlert:!0,showDateTypeAlert:!1}):e.setState({showDateTypeAlert:!0,showZipAlert:!1})},e.renderTemplate=function(){return Object(g.jsx)(v,{handleClick:e.handleClick,handleSubmit:e.handleSubmit,handleChange:e.handleChange,zipcode:e.state.zipcode})},e.renderChoices=function(){switch(!0){case e.state.renderFood&&e.state.renderActivity:return Object(g.jsxs)("div",{children:[Object(g.jsx)(p.a,{fluid:!0,children:Object(g.jsx)(u.a,{className:"justify-content-md-center",children:Object(g.jsx)(L,{zipcode:e.state.zipcode,type:"food",random:"false",addActivityToDate:e.addFoodToDate})})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(p.a,{fluid:!0,children:Object(g.jsx)(u.a,{className:"justify-content-md-center",children:Object(g.jsx)(L,{zipcode:e.state.zipcode,type:"food-activity",random:"false",addActivityToDate:e.addActivityToDate})})})]});case!e.state.renderActivity&&e.state.renderFood:return Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{children:Object(g.jsx)(u.a,{className:"justify-content-md-center",children:Object(g.jsx)(L,{zipcode:e.state.zipcode,type:"food",random:"false",addActivityToDate:e.addFoodToDate})})})});default:return Object(g.jsx)("p",{children:"Select date type and enter 5 digit zipcode"})}},e.addFoodToDate=function(t){e.setState({dateFood:t}),window.scroll({top:300,left:0,behavior:"smooth"})},e.addActivityToDate=function(t){e.setState({dateActivity:t}),window.scroll({top:300,left:0,behavior:"smooth"})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.state.showZipAlert?Object(g.jsx)(T.a,{variant:"danger",children:"Make sure to enter a 5 digit zipcode."}):"",this.state.showDateTypeAlert?Object(g.jsx)(T.a,{variant:"danger",children:"Make sure to select Food or Food and Activity Button."}):"",Object(g.jsx)(F.a,{fluid:!0,children:Object(g.jsx)(v,{handleClick:this.handleClick,handleSubmit:this.handleSubmit,handleChange:this.handleChange,zipcode:this.state.zipcode})}),Object(g.jsx)(p.a,{fluid:!0,children:Object(g.jsx)(u.a,{className:"justify-content-md-center",children:""!==this.state.dateType?Object(g.jsx)(S,{food:this.state.dateFood,activity:this.state.dateActivity,type:this.state.dateType}):""})}),this.renderChoices(),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]})}}]),a}(r.a.Component),U=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={dateType:"",zipcode:"",renderDate:!1,showAlert:!1,showZipAlert:!1,showDateTypeAlert:!1},e.handleChange=function(t){t.target.value.length<=5&&e.setState({zipcode:t.target.value})},e.handleClick=function(t){e.setState({dateType:t.target.name,renderDate:!1})},e.renderRandomDate=function(){"food"===e.state.dateType?e.props.history.push("/random-food-dates/".concat(e.state.zipcode)):e.props.history.push("/random-food-activity-dates/".concat(e.state.zipcode))},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.dateType&&5===e.state.zipcode.length?e.setState({renderDate:!0}):""===e.state.dateType?e.setState({showDateTypeAlert:!0,showZipAlert:!1}):e.setState({showZipAlert:!0,showDateTypeAlert:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.state.showZipAlert?Object(g.jsx)(T.a,{variant:"danger",children:"Make sure to enter a 5 digit zipcode."}):"",this.state.showDateTypeAlert?Object(g.jsx)(T.a,{variant:"danger",children:"Make sure to select Food or Food and Activity Button."}):"",Object(g.jsx)(F.a,{fluid:!0,children:Object(g.jsx)(v,{handleClick:this.handleClick,handleSubmit:this.handleSubmit,handleChange:this.handleChange,zipcode:this.state.zipcode})}),Object(g.jsx)(p.a,{children:this.state.renderDate?this.renderRandomDate():Object(g.jsx)("p",{children:"Select date type and enter 5 digit zipcode"})})]})}}]),a}(r.a.Component),E=Object(C.g)(U),H=a(28),M=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(H.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.login(e.state,e.props.history)},e}return Object(d.a)(a,[{key:"render",value:function(){return this.props.loading?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})}):Object(g.jsxs)(p.a,{id:"login",children:[Object(g.jsx)("br",{}),""!==this.props.error?Object(g.jsx)(T.a,{variant:"danger",children:this.props.error}):"",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(u.a,{className:"justify-content-md-center",children:Object(g.jsxs)(m.a,{style:{width:"75%",margin:"auto",minWidth:"20em",maxWidth:"40em"},className:"card border-info mb-3 shadow-lg p-3 mb-5 bg-body rounded",children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)("h4",{children:"Welcome back!"})}),Object(g.jsxs)(y.a,{onSubmit:this.handleSubmit,children:[Object(g.jsxs)(y.a.Group,{children:[Object(g.jsx)(y.a.Label,{children:"Username:"}),Object(g.jsx)(y.a.Control,{name:"username",type:"text",value:this.state.username,placeholder:"username",onChange:this.handleChange}),Object(g.jsx)(y.a.Label,{children:"Password:"}),Object(g.jsx)(y.a.Control,{name:"password",type:"password",value:this.state.password,placeholder:"password",onChange:this.handleChange})]}),Object(g.jsx)(f.a,{type:"submit",children:"Login"})]})]})})]})}}]),a}(r.a.Component),P=Object(w.b)((function(e){return{loading:e.authReducer.fetching,error:e.authReducer.errorMessage}}),(function(e){return{login:function(t,a){e(function(e,t){return function(a){a({type:"STARTING_FETCH"}),fetch("".concat("https://date-sidekick-api.herokuapp.com","/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){e.message?(a({type:"AUTH_FAILED",payload:{errorMessage:e.message}}),t.push("/login")):(a({type:"AUTH_SUCCESSFUL",payload:{loggedIn:e.logged_in,currentUser:e.user}}),t.push("/user/".concat(e.user.id)))}))}}(t,a))}}}))(M);var W=function(){return Object(g.jsx)(p.a,{className:"home-container",fluid:!0,children:Object(g.jsxs)(p.a,{className:"home-content shadow-lg",children:[Object(g.jsx)("h1",{children:"Welcome to Date Sidekick!"}),Object(g.jsx)("p",{children:"Deciding where to go on a date can be tough. Date Sidekick has two ways it can help. With the help of Yelp you can plan you next date with a list of options from your choosen zipcode. You can create and save this date to your profile. For the adventurous folks we have random mode. This will give you a random place to go based on your zipcode!"}),Object(g.jsx)(f.a,{style:{marginBottom:"1em"},variant:"primary",onClick:function(){return window.location.href="/random-date/new"},children:"Random Date"})," ",Object(g.jsx)(f.a,{style:{marginBottom:"1em"},variant:"primary",onClick:function(){return window.location.href="/custom-date/new"},children:"Create a Custom Date"})," "]})})},G=a(17),B=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",password_confirmation:""},e.handleChange=function(t){e.setState(Object(H.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signup(e.state,e.props.history)},e}return Object(d.a)(a,[{key:"render",value:function(){return this.props.loading?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})}):Object(g.jsxs)(p.a,{children:[Object(g.jsx)("br",{}),""!==this.props.error?Object(g.jsx)(T.a,{variant:"danger",children:this.props.error}):"",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(u.a,{className:"justify-content-md-center",children:Object(g.jsxs)(m.a,{style:{width:"75%",margin:"auto",minWidth:"20em",maxWidth:"40em"},className:"card border-info mb-3 shadow-lg p-3 mb-5 bg-body rounded",children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)("h4",{children:"Welcome, Create an Account!"})}),Object(g.jsxs)(y.a,{onSubmit:this.handleSubmit,children:[Object(g.jsxs)(y.a.Group,{children:[Object(g.jsx)(y.a.Label,{children:"Username:"}),Object(g.jsx)(y.a.Control,{name:"username",type:"text",value:this.state.username,placeholder:"username",onChange:this.handleChange}),Object(g.jsx)(y.a.Label,{children:"Password:"}),Object(g.jsx)(y.a.Control,{name:"password",type:"password",value:this.state.password,placeholder:"password",onChange:this.handleChange}),Object(g.jsx)(y.a.Label,{children:"Password Confirmation:"}),Object(g.jsx)(y.a.Control,{name:"password_confirmation",type:"password",value:this.state.password_confirmation,placeholder:"confirm password",onChange:this.handleChange})]}),Object(g.jsx)(f.a,{type:"submit",children:"Create Account"})]})]})})]})}}]),a}(r.a.Component),Z=Object(w.b)((function(e){return{error:e.authReducer.errorMessage,loading:e.authReducer.fetching}}),(function(e){return{signup:function(t,a){e(function(e,t){return function(a){a({type:"STARTING_FETCH"}),fetch("".concat("https://date-sidekick-api.herokuapp.com","/users"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){e.message?(a({type:"AUTH_FAILED",payload:{errorMessage:e.message}}),t.push("/signup")):(a({type:"AUTH_SUCCESSFUL",payload:{loggedIn:e.logged_in,currentUser:e.user}}),t.push("/user/".concat(e.user.id)))}))}}(t,a))}}}))(B),J=a(105);var Y=function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)(J.a,{show:e.show,onHide:e.onHide,backdrop:"static",keyboard:!1,children:[Object(g.jsx)(J.a.Header,{closeButton:!0,children:Object(g.jsx)(J.a.Title,{children:"Add/Edit notes and date"})}),Object(g.jsx)(J.a.Body,{children:Object(g.jsxs)(y.a,{children:[Object(g.jsx)(y.a.Label,{children:"Notes:"}),Object(g.jsx)(y.a.Control,{as:"textarea",rows:3,value:e.notes,onChange:e.onChange,name:"notes"}),Object(g.jsx)(y.a.Label,{children:"Date:"}),Object(g.jsx)(y.a.Control,{type:"date",value:e.date,onChange:e.onChange,name:"date"})]})}),Object(g.jsxs)(J.a.Footer,{children:[Object(g.jsx)(f.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(g.jsx)(f.a,{variant:"primary",onClick:e.save,children:"Save Changes"})]})]})})},X=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,notes:e.props.date.notes,date:e.props.date.date},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.handleChange=function(t){e.setState(Object(H.a)({},t.target.name,t.target.value))},e.renderPrettyDate=function(){return new Date(e.props.date.date).toDateString()},e.renderPastDate=function(){switch(e.props.type){case"food":return Object(g.jsxs)("div",{children:[Object(g.jsxs)(m.a,{style:{backgroundColor:"#FFFACD",padding:"1em",margin:"auto",width:"350px"},children:[Object(g.jsx)("h2",{children:"Food Date"}),Object(g.jsxs)(m.a.Body,{children:[Object(g.jsx)(D,{activity:e.props.date.activities[0],addActivityToDate:"",random:"true",foodOnly:"past-food-date"}),Object(g.jsxs)("h5",{style:{textAlign:"left"},children:["When: ",Object(g.jsx)("strong",{children:e.props.date.date?e.renderPrettyDate():""})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h5",{style:{textAlign:"left"},children:["Notes:",Object(g.jsx)("br",{}),e.props.date.notes?e.props.date.notes:"- Tell me about it?!?!?"]})]}),Object(g.jsxs)(m.a.Footer,{children:[Object(g.jsx)(f.a,{variant:"info",onClick:e.handleShow,children:"Edit Date"}),Object(g.jsx)(f.a,{variant:"danger",onClick:function(){return e.props.deleteDate(e.props.date,e.props.history)},children:"Delete Date"})]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(Y,{show:e.state.show,onHide:e.handleClose,notes:e.state.notes,date:e.state.date,onChange:e.handleChange,save:function(){return e.props.editDate(e.props.date,e.state.notes,e.state.date)},handleClose:e.handleClose})]});case"food-activity":return Object(g.jsxs)("div",{children:[Object(g.jsxs)(m.a,{className:"past-food-activity",style:{backgroundColor:"#FFFACD",padding:"1em",margin:"auto",minWidth:"700px",width:"fit-content",maxWidth:"700px"},children:[Object(g.jsx)("h2",{children:"Food and Activity Date"}),Object(g.jsx)(p.a,{children:Object(g.jsxs)(u.a,{lg:2,xs:1,md:1,children:[Object(g.jsx)(D,{activity:e.props.date.activities[0],addActivityToDate:"",random:"true"}),Object(g.jsx)(D,{activity:e.props.date.activities[1],addActivityToDate:"",random:"true"})]})}),Object(g.jsxs)("h5",{style:{textAlign:"left"},children:["When: ",Object(g.jsx)("strong",{children:e.props.date.date?e.renderPrettyDate():""})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h5",{style:{textAlign:"left"},children:["Notes:",Object(g.jsx)("br",{}),e.props.date.notes?e.props.date.notes:"- Tell me about it?!?!?"]}),Object(g.jsxs)(m.a.Footer,{children:[Object(g.jsx)(f.a,{variant:"info",onClick:e.handleShow,style:{margin:"1%"},children:"Edit Date"}),Object(g.jsx)(f.a,{variant:"danger",style:{margin:"1%"},onClick:function(){return e.props.deleteDate(e.props.date,e.props.history)},children:"Delete Date"})]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(Y,{show:e.state.show,onHide:e.handleClose,notes:e.state.notes,date:e.state.date,onChange:e.handleChange,save:function(){return e.props.editDate(e.props.date,e.state.notes,e.state.date)},handleClose:e.handleClose})]});default:return Object(g.jsx)("h6",{children:"Error"})}},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:this.renderPastDate()})}}]),a}(r.a.Component),V=Object(C.g)(Object(w.b)(null,(function(e){return{deleteDate:function(t,a){e(function(e,t){return function(t){fetch("".concat("https://date-sidekick-api.herokuapp.com","/outings/").concat(e.id),{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(e){t({type:"NOTHING"}),window.location.reload()}))}}(t))},editDate:function(t,a,n){e(function(e,t,a){return function(n){n({type:"STARTING_FETCH"}),fetch("".concat("https://date-sidekick-api.herokuapp.com","/outings/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({outing:{notes:t,date:a}})}).then((function(e){return e.json()})).then((function(e){n({type:"NOTHING"}),window.location.reload()}))}}(t,a,n))}}}))(X)),q=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activities:[],dates:[],loading:!0,showDates:!1},e.showPastDate=function(){var t=e.state.showDates;e.setState({showDates:!t})},e.renderActivities=function(){if(e.state.activities.length>0)return e.state.activities.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)(D,{activity:e.attributes,addActivityToDate:"",random:"true",foodOnly:"past-food-date"})})})}))},e.renderDates=function(){if(e.state.dates.length>0)return e.state.dates.map((function(e){return 1===e.attributes.activities.length?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.a,{style:{padding:"0"},children:Object(g.jsx)(V,{date:e.attributes,type:"food"})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.a,{style:{padding:"0"},children:Object(g.jsx)(V,{date:e.attributes,type:"food-activity"})})})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://date-sidekick-api.herokuapp.com","/users/").concat(this.props.user.id)).then((function(e){return e.json()})).then((function(t){var a=[],n=[];t.included.forEach((function(e){"activity"===e.type?a.push(e):n.push(e)})),n.sort((function(e,t){return t.attributes.id-e.attributes.id})),e.setState({activities:a,dates:n,loading:!1})}))}},{key:"render",value:function(){return this.state.loading?Object(g.jsx)(_,{}):Object(g.jsxs)(p.a,{fluid:!0,children:[Object(g.jsxs)("h1",{children:["Welcome ",this.props.user.username,"!"]}),this.state.showDates?Object(g.jsx)(f.a,{variant:"primary",size:"lg",onClick:this.showPastDate,style:{marginBottom:"1em"},children:"Hide Dates!"}):Object(g.jsx)(f.a,{variant:"primary",size:"lg",onClick:this.showPastDate,children:"See Dates You Have Saved!"}),Object(g.jsx)(A.a,{in:this.state.showDates,children:Object(g.jsx)("div",{children:Object(g.jsx)(u.a,{children:this.renderDates()})})}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h1",{children:["Wow! You have been to ",this.state.activities.length," ",1===this.state.activities.length?"place!":"places!"]}),"When you save a date, all the places you have been will show up below. Don't worry if you go to a place more than once. We will only show the place once. Now go out and explore!",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(p.a,{children:Object(g.jsx)(u.a,{className:"justify-content-md-center",lg:3,md:2,xs:1,children:this.renderActivities()})})]})}}]),a}(r.a.Component),K=Object(w.b)((function(e){return{user:e.authReducer.currentUser}}))(q),Q=a(109),$=a(107),ee=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(Q.a,{collapseOnSelect:!0,bg:"light",variant:"light",expand:"md",className:"nav",children:[Object(g.jsx)(Q.a.Brand,{children:Object(g.jsx)(G.b,{to:"/",children:"Date Sidekick"})}),Object(g.jsx)(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsx)(Q.a.Collapse,{id:"responsive-navbar-nav",children:Object(g.jsxs)($.a,{className:"mr-right",children:[Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/",children:"Home"})}),Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/random-date/new",children:"Random Outing"})}),Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/custom-date/new",children:"Create Outing"})}),this.props.loggedIn?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/user/".concat(this.props.user.id),children:"Profile"})}),Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"",onClick:function(){return e.props.logout(e.props.history)},children:"Logout"})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/signup",children:"Signup"})}),Object(g.jsx)($.a.Item,{children:Object(g.jsx)(G.b,{to:"/login",children:"Login"})})]})]})})]})}}]),a}(r.a.Component),te=Object(C.g)(Object(w.b)((function(e){return{loggedIn:e.authReducer.loggedIn,user:e.authReducer.currentUser}}),(function(e){return{logout:function(t){e(function(e){return function(t){fetch("".concat("https://date-sidekick-api.herokuapp.com","/logout"),{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(a){t({type:"LOGOUT"}),e.push("/login")}))}}(t))}}}))(ee)),ae=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reloader:Math.random()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return this.props.match.params.zipcode.length>5?(this.props.history.push("/random-date/new"),null):Object(g.jsxs)(F.a,{style:{padding:"1rem .5rem"},children:[Object(g.jsx)(u.a,{className:"justify-content-md-center",children:"food"===this.props.type?Object(g.jsx)(b.a,{style:{padding:"0px",maxWidth:"600px"},children:Object(g.jsx)(L,{zipcode:this.props.match.params.zipcode,type:"food",random:"true"})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{style:{padding:"0px",maxWidth:"600px"},children:Object(g.jsx)(L,{zipcode:this.props.match.params.zipcode,type:"food",random:"true"})}),Object(g.jsx)(b.a,{style:{padding:"0px",maxWidth:"600px"},children:Object(g.jsx)(L,{zipcode:this.props.match.params.zipcode,type:"food-activity",random:"true"})})]})}),Object(g.jsx)(f.a,{variant:"info",onClick:function(){return e.setState({reloader:Math.random()})},children:"Try Again"}),"   ",Object(g.jsx)(f.a,{variant:"info",onClick:function(){return e.props.history.push("/random-date/new")},children:"Start Over"})]})}}]),a}(r.a.Component),ne=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e.toggleLoading=function(){e.setState({loading:!e.state.loading})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.checkLoggedIn(this.toggleLoading)}},{key:"render",value:function(){var e=this;return this.state.loading?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})}):Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(te,{}),Object(g.jsxs)(C.d,{children:[Object(g.jsx)(C.b,{exact:!0,path:"/",component:W}),Object(g.jsx)(C.b,{exact:!0,path:"/random-date/new",component:E}),Object(g.jsx)(C.b,{path:"/random-food-dates/:zipcode",render:function(e){return Object(g.jsx)(ae,Object(s.a)(Object(s.a)({},e),{},{type:"food"}))}}),Object(g.jsx)(C.b,{path:"/random-food-activity-dates/:zipcode",render:function(e){return Object(g.jsx)(ae,Object(s.a)(Object(s.a)({},e),{},{type:"food-activity"}))}}),Object(g.jsx)(C.b,{exact:!0,path:"/custom-date/new",component:R}),Object(g.jsx)(C.b,{exact:!0,path:"/login",component:P}),Object(g.jsx)(C.b,{exact:!0,path:"/user/:id",render:function(t){return e.props.loggedIn?Object(g.jsx)(K,Object(s.a)({},t)):Object(g.jsx)(C.a,{to:"/login"})}}),Object(g.jsx)(C.b,{exact:!0,path:"/signup",component:Z})]})]})})}}]),a}(r.a.Component),re=Object(w.b)((function(e){return{loggedIn:e.authReducer.loggedIn,user:e.authReducer.currentUser}}),(function(e){return{checkLoggedIn:function(t){e(function(e){return function(t){fetch("".concat("https://date-sidekick-api.herokuapp.com","/logged_in"),{credentials:"include"}).then((function(e){return e.json()})).then((function(a){t({type:"AUTH_SUCCESSFUL",payload:{loggedIn:a.logged_in,currentUser:a.user}}),e()}))}}(t))}}}))(ne),ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},ie=a(34),se=a(64),oe=Object(ie.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:!1,currentUser:{},errorMessage:"",fetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESSFUL":return Object(s.a)(Object(s.a)({},e),{},{loggedIn:t.payload.loggedIn,currentUser:t.payload.currentUser,errorMessage:"",fetching:!1});case"AUTH_FAILED":return Object(s.a)(Object(s.a)({},e),{},{errorMessage:t.payload.errorMessage,fetching:!1});case"STARTING_FETCH":return Object(s.a)(Object(s.a)({},e),{},{fetching:!0});case"LOGOUT":return Object(s.a)(Object(s.a)({},e),{},{loggedIn:!1,currentUser:{}});default:return Object(s.a)(Object(s.a)({},e),{},{fetching:!1})}}}),de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,le=Object(ie.e)(oe,de(Object(ie.a)(se.a)));i.a.render(Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{store:le,children:Object(g.jsx)(re,{})})}),document.getElementById("root")),ce()}},[[97,1,2]]]);
//# sourceMappingURL=main.2d5f2123.chunk.js.map